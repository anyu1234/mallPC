(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14b8f906"],{"0e62":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"peoductList-container"},[n("InlineFrom",{on:{category:t.category}}),n("Table",{attrs:{Data:t.Product.data},on:{remove:t.remove}}),n("Page",{attrs:{total:t.Product.total,size:t.Size},on:{limit:t.limit,page:t.page}})],1)},r=[],o=n("1da1"),i=(n("96cf"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inlinefrom-container"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[n("el-form-item",{attrs:{label:"搜索关键字"}},[n("el-input",{attrs:{placeholder:"目前没用"},model:{value:t.formInline.searchWord,callback:function(e){t.$set(t.formInline,"searchWord",e)},expression:"formInline.searchWord"}})],1),n("el-select",{attrs:{clearable:"",placeholder:"请选择商品类目"},model:{value:t.formInline.category,callback:function(e){t.$set(t.formInline,"category",e)},expression:"formInline.category"}},t._l(t.category,(function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("搜索")])],1)],1)],1)}),c=[],l=n("c4c8"),s={data:function(){return{formInline:{searchWord:"",category:""},category:[]}},methods:{onSubmit:function(){this.$emit("category",this.formInline)}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].categoryList().then((function(e){t.category=e.data.data}));case 2:case"end":return e.stop()}}),e)})))()}},u=s,d=(n("ad8b"),n("2877")),f=Object(d["a"])(u,i,c,!1,null,"4579037a",null),p=f.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table-container"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.listdata,stripe:""}},[n("el-table-column",{attrs:{prop:"id",label:"ID",width:"80px","show-overflow-tooltip":"",align:"center"}}),n("el-table-column",{attrs:{prop:"title",label:"标题","show-overflow-tooltip":"",align:"center"}}),n("el-table-column",{attrs:{prop:"desc",label:"描述","show-overflow-tooltip":"",align:"center"}}),n("el-table-column",{attrs:{prop:"category",label:"类目",align:"center"}}),n("el-table-column",{attrs:{prop:"tags",label:"标签","show-overflow-tooltip":"",align:"center"}}),n("el-table-column",{attrs:{prop:"price",label:"价格",align:"center"}}),n("el-table-column",{attrs:{prop:"price_off",label:"折扣价",align:"center"}}),n("el-table-column",{attrs:{prop:"status",label:"上架状态",align:"center"}}),n("el-table-column",{attrs:{prop:"inventory",label:"库存量",align:"center"}}),n("el-table-column",{attrs:{label:"操作",width:"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.handleEdit(e.$index,e.row)}}},[t._v(" 编辑 ")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)},h=[],m=n("5530"),b=(n("d81d"),n("b0c0"),{props:["Data"],data:function(){return{list:[],listdata:[]}},methods:{handleEdit:function(t){this.$store.dispatch("editData",this.Data[t]),this.$router.push({name:"edit"})},handleDelete:function(t,e){var n=this;console.log(e.id),null!==e.id?this.$confirm("确定删除此条信息吗？？？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){l["a"].delete(e.id).then((function(t){"success"==t.status&&(n.$emit("remove",e,!0),n.$message({type:"success",message:"删除成功!"}))}))})).catch((function(){n.$message({type:"info",message:"已取消删除"})})):alert("没有ID，无法删除！")}},watch:{Data:function(){var t=this,e=this;l["a"].categoryList().then((function(n){t.list=n.data,t.listdata=t.Data.map((function(t){return Object(m["a"])(Object(m["a"])({},t),{},{status:1==t.status?"上架":"下架",category:e.list.data[t.category-1<0?0:t.category-1].name})}))}))}}}),y=b,v=Object(d["a"])(y,g,h,!1,null,null,null),I=v.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container"},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[20,40,60,80,100],"page-size":t.size,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},x=[],C=(n("a9e3"),{props:{total:{type:Number},size:{type:Number}},methods:{handleSizeChange:function(t){this.$emit("limit",t),console.log(t)},handleCurrentChange:function(t){this.$emit("page",t)}},data:function(){return{}},computed:{currentPage:function(){return 1}}}),_=C,N=(n("5d0b"),Object(d["a"])(_,w,x,!1,null,"65008ed2",null)),S=N.exports,E={components:{InlineFrom:p,Table:I,Page:S},data:function(){return{Product:{data:[],total:10},Page:1,Size:20,SearchWord:"",Category:0}},methods:{limit:function(t){this.Size=t,this.productList()},page:function(t){this.Page=t,this.productList()},category:function(t){this.SearchWord=t.searchWord,this.Category=t.category,this.productList()},remove:function(t,e){e&&this.productList()},productList:function(){var t=this;l["a"].list({page:this.Page,size:this.Size,searchWord:this.SearchWord,category:0==this.Category?null:this.Category}).then((function(e){t.Product.data=e.data.data,t.Product.total=e.data.total}))}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.productList();case 2:case"end":return e.stop()}}),e)})))()}},$=E,z=(n("ca63"),Object(d["a"])($,a,r,!1,null,"262fd330",null));e["default"]=z.exports},"125d":function(t,e,n){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var a=n("1d80"),r=n("5899"),o="["+r+"]",i=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),l=function(t){return function(e){var n=String(a(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},"5d0b":function(t,e,n){"use strict";n("125d")},"6ac0":function(t,e,n){},7156:function(t,e,n){var a=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var o,i;return r&&"function"==typeof(o=e.constructor)&&o!==n&&a(i=o.prototype)&&i!==n.prototype&&r(t,i),t}},a0ee:function(t,e,n){},a9e3:function(t,e,n){"use strict";var a=n("83ab"),r=n("da84"),o=n("94ca"),i=n("6eeb"),c=n("5135"),l=n("c6b6"),s=n("7156"),u=n("c04e"),d=n("d039"),f=n("7c73"),p=n("241c").f,g=n("06cf").f,h=n("9bf2").f,m=n("58a8").trim,b="Number",y=r[b],v=y.prototype,I=l(f(v))==b,w=function(t){var e,n,a,r,o,i,c,l,s=u(t,!1);if("string"==typeof s&&s.length>2)if(s=m(s),e=s.charCodeAt(0),43===e||45===e){if(n=s.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(s.charCodeAt(1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+s}for(o=s.slice(2),i=o.length,c=0;c<i;c++)if(l=o.charCodeAt(c),l<48||l>r)return NaN;return parseInt(o,a)}return+s};if(o(b,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var x,C=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof C&&(I?d((function(){v.valueOf.call(n)})):l(n)!=b)?s(new y(w(e)),n,C):w(e)},_=a?p(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),N=0;_.length>N;N++)c(y,x=_[N])&&!c(C,x)&&h(C,x,g(y,x));C.prototype=v,v.constructor=C,i(r,b,C)}},ad8b:function(t,e,n){"use strict";n("a0ee")},b0c0:function(t,e,n){var a=n("83ab"),r=n("9bf2").f,o=Function.prototype,i=o.toString,c=/^\s*function ([^ (]*)/,l="name";a&&!(l in o)&&r(o,l,{configurable:!0,get:function(){try{return i.call(this).match(c)[1]}catch(t){return""}}})},c4c8:function(t,e,n){"use strict";var a=n("eeb9");e["a"]={list:function(t){return a["a"].get("/products/all",{params:t})},categoryList:function(t){return a["a"].get("/category/all",{params:t})},delete:function(t){return a["a"].delete("/products/"+t)},add:function(t){return a["a"].post("/products/add",t)},modify:function(t){return a["a"].put("/passport/changeUserInfo",t)},edit:function(t){return a["a"].put("/products/edit",t)},addCategory:function(t){return a["a"].post("/category/add",t)},editCategory:function(t){return a["a"].put("/category/edit",t)},deleteCategory:function(t){return a["a"].delete("/category/"+t)}}},ca63:function(t,e,n){"use strict";n("6ac0")},d81d:function(t,e,n){"use strict";var a=n("23e7"),r=n("b727").map,o=n("1dde"),i=o("map");a({target:"Array",proto:!0,forced:!i},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-14b8f906.048ac1f6.js.map